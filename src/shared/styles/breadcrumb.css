/**
 * Breadcrumb Styles (Fil d'Ariane)
 * Mon Toit - Navigation Cognitive
 */

/* ===== BREADCRUMB BASE ===== */

.breadcrumb {
  padding: 12px 0;
  margin-bottom: 16px;
  border-bottom: 1px solid #f3f4f6;
}

.breadcrumb ol {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
}

.breadcrumb li {
  display: inline-flex;
  align-items: center;
}

/* ===== LIENS ===== */

.breadcrumb a {
  color: #6b7280;
  text-decoration: none;
  transition: color 0.2s ease;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: 6px;
}

.breadcrumb a:hover {
  color: #3b82f6;
  background-color: #eff6ff;
}

.breadcrumb a:active {
  transform: scale(0.98);
}

/* ===== PAGE ACTUELLE ===== */

.breadcrumb [aria-current='page'] {
  color: #1f2937;
  font-weight: 600;
  padding: 4px 8px;
}

/* ===== SÉPARATEUR ===== */

.breadcrumb [aria-hidden='true'] {
  color: #d1d5db;
  display: flex;
  align-items: center;
}

/* ===== ICÔNE HOME ===== */

.breadcrumb svg {
  flex-shrink: 0;
}

/* ===== RESPONSIVE MOBILE ===== */

@media (max-width: 640px) {
  .breadcrumb {
    padding: 8px 0;
    margin-bottom: 12px;
  }

  .breadcrumb ol {
    gap: 6px;
    font-size: 14px;
  }

  /* Masquer les items intermédiaires sur très petit écran */
  @media (max-width: 480px) {
    /* Garder seulement Accueil et page actuelle */
    .breadcrumb li:not(:first-child):not(:last-child):not(:nth-last-child(2)) {
      display: none;
    }

    /* Afficher "..." pour indiquer les items cachés */
    .breadcrumb li:first-child + li[aria-hidden='true'] + li::before {
      content: '...';
      margin: 0 4px;
      color: #9ca3af;
    }
  }

  /* Réduire le padding des liens */
  .breadcrumb a,
  .breadcrumb [aria-current='page'] {
    padding: 2px 6px;
  }
}

/* ===== BREADCRUMB COMPACT ===== */

.breadcrumb-compact {
  padding: 8px 0;
  margin-bottom: 12px;
}

.breadcrumb-compact a {
  color: #6b7280;
  text-decoration: none;
  transition: color 0.2s ease;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: 6px;
}

.breadcrumb-compact a:hover {
  color: #3b82f6;
  background-color: #eff6ff;
}

/* ===== ACCESSIBILITÉ ===== */

/* Focus visible pour la navigation au clavier */
.breadcrumb a:focus-visible {
  outline: 3px solid #3b82f6;
  outline-offset: 2px;
  border-radius: 6px;
}

/* Améliorer le contraste pour les malvoyants */
@media (prefers-contrast: high) {
  .breadcrumb a {
    color: #374151;
    font-weight: 500;
  }

  .breadcrumb a:hover {
    color: #1d4ed8;
    background-color: #dbeafe;
  }

  .breadcrumb [aria-current='page'] {
    color: #111827;
    font-weight: 700;
  }
}

/* ===== DARK MODE ===== */

@media (prefers-color-scheme: dark) {
  .breadcrumb {
    border-bottom-color: #374151;
  }

  .breadcrumb a {
    color: #d1d5db;
  }

  .breadcrumb a:hover {
    color: #60a5fa;
    background-color: #1e3a8a;
  }

  .breadcrumb [aria-current='page'] {
    color: #f9fafb;
  }

  .breadcrumb [aria-hidden='true'] {
    color: #6b7280;
  }
}

/* ===== ANIMATIONS ===== */

/* Animation d'apparition */
@keyframes breadcrumbFadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.breadcrumb {
  animation: breadcrumbFadeIn 0.3s ease-out;
}

/* Animation des liens */
.breadcrumb a {
  position: relative;
}

.breadcrumb a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 8px;
  right: 8px;
  height: 2px;
  background-color: #3b82f6;
  transform: scaleX(0);
  transition: transform 0.2s ease;
}

.breadcrumb a:hover::after {
  transform: scaleX(1);
}

/* ===== PRINT ===== */

@media print {
  .breadcrumb {
    border-bottom: 1px solid #000;
    padding-bottom: 8px;
    margin-bottom: 16px;
  }

  .breadcrumb a {
    color: #000;
    text-decoration: underline;
  }

  .breadcrumb [aria-current='page'] {
    font-weight: bold;
  }
}

/* ===== STRUCTURED DATA (SEO) ===== */

/* Les métadonnées schema.org sont invisibles mais importantes pour le SEO */
.breadcrumb [itemProp] {
  /* Styles déjà appliqués via les classes */
}

/* ===== VARIANTES ===== */

/* Breadcrumb avec fond */
.breadcrumb.breadcrumb-bg {
  background-color: #f9fafb;
  padding: 12px 16px;
  border-radius: 12px;
  border-bottom: none;
}

@media (prefers-color-scheme: dark) {
  .breadcrumb.breadcrumb-bg {
    background-color: #1f2937;
  }
}

/* Breadcrumb sans bordure */
.breadcrumb.breadcrumb-no-border {
  border-bottom: none;
}

/* Breadcrumb avec séparateur personnalisé */
.breadcrumb.breadcrumb-slash [aria-hidden='true']::before {
  content: '/';
  color: #d1d5db;
  margin: 0 4px;
}

.breadcrumb.breadcrumb-slash [aria-hidden='true'] svg {
  display: none;
}

/* ===== ÉTATS DE CHARGEMENT ===== */

/* Skeleton pour breadcrumb en chargement */
.breadcrumb-skeleton {
  padding: 12px 0;
  margin-bottom: 16px;
}

.breadcrumb-skeleton .skeleton-item {
  height: 20px;
  background-color: #e5e7eb;
  border-radius: 4px;
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* ===== BREADCRUMB DANS DIFFÉRENTS CONTEXTES ===== */

/* Dans un container étroit */
.container-sm .breadcrumb {
  font-size: 13px;
}

/* Dans un header sticky */
.sticky-header .breadcrumb {
  padding: 8px 0;
  margin-bottom: 0;
}

/* Dans une modal */
.modal .breadcrumb {
  padding: 8px 0;
  margin-bottom: 16px;
  border-bottom: 1px solid #e5e7eb;
}
